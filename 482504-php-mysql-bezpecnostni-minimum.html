<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="cz">
<head><link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.misantrop.info/rss.xml" /><link rel="alternate" type="application/rss+xml" title="RSS - Kdo umí..." href="http://www.misantrop.info/tema-8-kdo-umi.xml" /><link rel="alternate" type="application/rss+xml" title="Komentáře" href="http://www.misantrop.info/comments.xml" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/misantrop" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <title>PHP+MySQL bezpečnostní minimum - Misantrop.info</title> 

<link rel="stylesheet" href="css39236.css" type="text/css" title="Styl2" media="screen" />
<link rel="alternate stylesheet" href="css34066.css" type="text/css" title="Styl1" media="screen" />

<meta name="verify-v1" content="qHyecOmV/BTXodaXkGrOlj7QL+X93dTbTLojG9EU22c=" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://adent.myopenid.com/" />
<link rel="openid2.local_id" href="http://adent.myopenid.com" />
<link rel="openid2.provider" href="http://www.myopenid.com/server" />
<meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=adent.myopenid.com" />

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="keywords" content="Martin Malý, Arthur Dent, weblogy, programování, PHP, blogy, misantrop, Web2.0, technologie, elektronika" />

<meta name="description" content="PHP+MySQL bezpečnostní minimum - Misantrop.info" />
</head>
<body>
<div id="all">
<!-- Anal Lizer-->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-190512-8";
urchinTracker();
</script>
<!--dolizat-->
 

<div id="adx" style="position:fixed;_position:absolute;top:5px;left:5px">
<script type="text/javascript"><!--
google_ad_client = "pub-3772893178572611";
/* 120x600, vytvořeno 15.7.08 */
google_ad_slot = "1720575805";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="">
</script>
</div>

<div id="head"><p id="logo"><a href="index.php"><img src="img/2zapisnik-logo.gif" alt="Misantrop.info - Web co vám doudí moudí..." /></a></p></div>

<ul id="menu">
<li><a href="index.php">Titulní stránka</a></li>
<li><a href="http://rss.misantrop.info">Oblíbené zdroje</a></li>
<li><a href="http://www.maly.cz/o-mn/?KeepThis=true&amp;TB_iframe=true&amp;height=500&amp;width=800" class="thickbox">O mně</a></li>
<li><a href="http://www.bloguje.cz/vzkazy.php?send=47997">Napiš vzkaz</a></li>
</ul>

<div id="obsah">
<div id="pole">
<!-- Pocitadlo -->
<p><img src="http://counter.cnw.cz/dungeon.cgi?blogmalycz&amp;6&amp;000000&amp;fff1d8&amp;on" alt=" " style="width:1px;height:1px;"/><script type="text/javascript">
<!-- 
var dummy =("<img src=\"http://counter.cnw.cz/trackit.cgi?blogmalycz&t2&" + escape(top.document.referrer) + "\" alt=\" \" border=\"0\" width=\"1\" height=\"1\">"); 
// --></script>

<script language="JavaScript" type="text/javascript">
<!--
var dummy = ('<a href="http://www.netagent.cz" target="_top"><img src="http://www.netagent.cz/agent.php?id=383&amp;ur='+escape(document.referrer)+'&amp;rw='+escape(window.screen.width)+'&amp;rh='+escape(window.screen.height)+'&amp;cd='+escape(window.screen.colorDepth)+'&amp;pt='+escape(document.title)+'&amp;lc='+escape(document.location)+'" width="1" height="1" border="0" alt="NetAgent" /></a>');
//--></script>

</p>
<!-- Pocitadlo konec -->




<h1>PHP+MySQL bezpečnostní minimum</h1>







<p><br /> Máte knihu &quot;Tvorba aplikací v PHP a MySQL&quot; už dávno přečtenou a vrháte se právě do programování třetího webu? Tak to je nejvyšší čas na bezpečnostní minimum... </p>

<p style="float:right; margin:0 0 1em 1em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3772893178572611";

/* 120x240, vytvořeno 6.7.08 */
google_ad_slot = "4855232301";
google_ad_width = 120;
google_ad_height = 240;
//-->
</script>
<script type="text/javascript"
src="">
</script>
</p>

<p><p>Žirafka naťukla problematiku bezpečnosti webových aplikací. A ačkoli by toto mohl být další díl seriálu o APIs, tak ta pravidla jsou natolik obecná, že si zaslouží vlastní arogantní článek.<br /><br /><strong>Co by měl programátor v PHP stoprocentně znát a bezpodmínečně dodržovat?</strong><br /><br /><em>Zapomeňte konečně na register_globals!</em><br /><br />Co je předáno přes GET, je v globální proměnné $_GET, co je předáno přes POST, je v $_POST a cookies jsou v $_COOKIE. Zapomeňte na to, že PHP kdy nabízelo možnost automatického naplnění proměnných!</p><p><em>Nevěřte nikomu!</em></p><p>Vše co přišlo zvenčí je podezřelé. Zkontrolujte si, zda přijatá data dávají smysl, podezřelé věci zahazujte. Typicky to jsou znaky &lt;, &gt;, apostrofy, lomítka, uvozovky, středníky a zpětná lomítka. Pokud není opravdu důvod, aby tyto znaky v řetězci byly, tak je zahoďte.</p><p>Když má uživatel poslat v parametru číslo, uložte si ho do proměnné přes funkci intval. <font face="courier new,courier">$userid=intval($_GET[&#39;userid&#39;]);</font> budiž ode dneška vaší mantrou. Hlavně když s tím číslem budete dál pracovat v SQL dotazu. <br /><br />Pokud je součástí SQL dotazu řetězec zadaný uživatelem, tak mysql_escape_string() je nutné minimum, u textů je lépe použít mysql_real_escape_string(), které ošetří i znaky v národních sadách <em>(samosebou pokud má váš hosting správně nastavené kódové stránky u PHP i u MySQL a vaše aplikace používá stejné kódování, leckde tomu tak není... Pak je lepší použít vlastní &quot;quote escape&quot; rutinu napsanou na míru&nbsp;&ndash; ale to už zabíhám příliš do podrobností).</em> </p><p>Pokud budete řetězec od uživatele vypisovat do HTML kódu, nezapomeňte na htmlspecialchars(). Sice se nikdo nejmenuje &quot;<em>&lt;script&gt;alert(&#39;ahoj!&#39;)&lt;/script&gt;</em>&quot;, ale to neznamená, že se to nemůže objevit coby hodnota parametru JMENO!<br /><br />Pokud se řetězec z parametru má stát součástí cesty k nějakému souboru, který budete skriptem číst, mazat nebo nedejbože includovat, tak nejprve vyhoďte z řetězce všechny &quot;..&quot; a pokud možno i lomítka (nejsou-li nutná). Napište si funkci na odstranění všech &quot;nerozumných&quot; znaků z řetězce (vše mimo 0-9, a-z a A-Z, možná ještě mezery, tečky a spojovníku) a pokud očekáváte parametr, v němž se nic jiného vyskytovat nemá, tak jej touto funkcí prožeňte.<br /><br />Zkontrolujte si u uploadnutých souborů, jestli mají tu příponu, kterou očekáváte, dřív, než je uložíte na disk. Dovolit uživatelům nahrát např. &quot;obrazek.gif.sh&quot; je, slušně řečeno, nerozum. Řiďte se raději pravidlem &quot;co není povoleno je zakázáno&quot; než pravidlem &quot;povoleno je vše co není zakázáno&quot;.</p><p>Nevěřte cookies. Pokud si něco uložíte k uživateli do cookie, tak se vám nakrásně může vrátit něco úplně jiného. Z hlediska bezpečnosti je cookie stejně nespolehlivá jako parametr předaný GETem.<br /><br /><em>Omezte je! Nadměrná svoboda uživatelům škodí!</em><br /><br />Když mažete jeden řádek z databáze, tak se nestyďte přidat za DELETE FROM ... WHERE ... ještě klauzuli LIMIT 1. Stejně tak při update jednoho řádku.<br /><br /><em>Hešujte!</em><br /><br />Pozor na přihlašovací skripty a na údaje o uživatelích. Podívejte se do přihlašovacího skriptu vaší aplikace. Vidíte tam něco jako &quot;<font face="courier new,courier">where jmeno=&#39;$jmeno&#39; and heslo=&#39;$heslo&#39;</font>&quot;? Ano? Pánbůh s vašimi uživateli! Pokud si vaše aplikace do databáze ukládá jméno a heslo uživatelů v otevřeném textu, jste idiot a zasloužíte si nakopat, hacknout a zkrachovat. Heslo ukládejte do databáze minimálně jako jeho MD5 hash, jste-li paranoik, tak jako SHA hash.<br /><br />Nebuďte líní a rozdělte kontrolu uživatelů na víc kroků. Nejprve si udělejte <font face="courier new,courier">SELECT * FROM users WHERE jmeno=&#39;$jmeno&#39;</font> (jméno samosebou předtím ošetřete přes mysql_escape_string()). Pak zkontrolujte, jestli jste dostali právě jeden řádek. Pokud ano, vyzvedněte si údaje a zkontrolujte, zda heslo odpovídá. Stačí obyčejné PHP porovnání: <font face="courier new,courier">if ($db[&#39;heslo&#39;] == md5($_POST[&#39;heslo&#39;]))</font> ...</p><p>Nezapomeňte, že cokoli, co jde přes otevřený HTTP protokol, může kdokoli přečíst, a pro citlivá data použijte SSL, pokud to lze.</p><p>Nezapomeňte, že HTTPS samo ještě nedělá aplikaci bezpečnou!</p><p>&nbsp;</p><p>Pamatujte: <strong>Největší bezpečnostní problém při vývoji aplikace bývá přehnaně sebevědomý a  málo zkušený (chodí to ruku v ruce) vývojář!</strong> </p><p><br />Tak jak jste na tom? Všechno tohle víte a automaticky to dodržujete? Gratuluji! Můžete se v komentářích podělit o další bezpečnostní zásady, které máte na skladě?</p></p>

<div style="text-align:center">
<script type="text/javascript"><!--
google_ad_client = "pub-3772893178572611";
/* 468x60, vytvořeno 15.7.08 */
google_ad_slot = "3559028762";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="">
</script>
</div>





<p class="more">
<span class="date">Dne 10.02.2007</span>

</p>





<p><a href="http://jdem.cz/tw?text=Zaj%c3%admav%c3%bd+%c4%8dl%c3%a1nek+na+Z%c3%a1pisn%c3%adku%3a+http%3A%2F%2Fwww.misantrop.info%2F482504-php-mysql-bezpecnostni-minimum.html&amp;redir=1">Twittni</a></p>

<p>Přidej do: 
 <a href="http://vybrali.sme.sk/submit.php?url=http%3A%2F%2Fwww.misantrop.info%2F482504-php-mysql-bezpecnostni-minimum.html"><img src="http://blog.sme.sk/blog/3/61630/tlacitko.gif" style="border:0" title="asdf.sk" alt="asdf.sk" /></a>

<a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fwww.misantrop.info%2F482504-php-mysql-bezpecnostni-minimum.html&amp;title=PHP%2BMySQL+bezpe%E8nostn%ED+minimum"> <img border=0 src="http://www.bloguje.cz/icon_su.gif" alt="StumbleUpon Toolbar"> Stumble It!</a>

<script type="text/javascript" src="http://w.sharethis.com/widget/?tabs=web%2Cemail&amp;charset=utf-8&amp;style=rotate&amp;publisher=99a6f76f-7727-4c7b-a906-b91f57f8a706"></script></p>

<script type="text/javascript" src="http://feedjit.com/coFilter/?bc=FFFFFF&amp;tc=008000&amp;brd1=336699&amp;lnk=008000&amp;hc=336699&amp;ww=500"></script>


<h2 id="n_koments">Komentáře</h2>



<p class="comment">
<strong><a name="cmt_1">[1]</a> mail()</strong> (Martiner  ) 10.02.2007, 20:53:55&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1062429">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1062429">D</a>]<br />

Nekontrolování parametrů funkce mail(), za to bych střílel bez výstrahy. Tohle milého programátora vůbec nevzrušuje, protože to není on, kdo maže tuny spamů z fronty...
<br />Nějaké zkušenosti s <a href="http://www.hardened-php.net/hardening_patch.14.html" rel="nofollow">http://www.hardened-php.net/hardening_patch.14.html</a> případně <a href="http://www.hardened-php.net/suhosin/" rel="nofollow">http://www.hardened-php.net/suhosin/</a> ?

</p>



<p class="comment">
<strong><a name="cmt_2">[2]</a> </strong> (Arthur Dent  ) 10.02.2007, 21:00:43&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1062440">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1062440">D</a>]<br />

<a href="#cmt_1">[1]</a> Hezké, hezké, ale ještě jsem to neviděl v akci. A pokud píšu skript, tak je lépe nespoléhat na to, že poběží někde s takovouhle "berličkou".
<br />
<br />Jinak - nezkontrolovat parametry funkce mail() je stejné jako nezkontrolovat např. parametr fopen() a spadá to do výše uvedeného "kontrolovat vše co přichází zvenčí".

</p>



<p class="comment">
<strong><a name="cmt_3">[3]</a> </strong> (Martiner  ) 10.02.2007, 22:24:27&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1062538">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1062538">D</a>]<br />

<a href="#cmt_2">[2]</a> tak ten hardened není pro bastlíře PHP skriptů (aby ho měli jako berličku), ale pro ty chudáky na jejichž železe to běží. Ale asi se na to dívám z jiné strany barikády :)

</p>



<p class="comment">
<strong><a name="cmt_4">[4]</a> </strong> (Arthur Dent  ) 11.02.2007, 05:49:51&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1062756">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1062756">D</a>]<br />

<a href="#cmt_4">[4]</a> Nojo, ale tady se nebavíme o tom, jak nezprasit PHP skript, ale o tom, čeho se vyvarovat z hlediska bezpečnosti. Nic o veřejném hostingu, kam si kdokoli naprasí cokoli a ostatní se jen diví.

</p>



<p class="comment">
<strong><a name="cmt_5">[5]</a> Bezpecnost</strong> (--==[FReeZ]==-- - <a href="mailto:fr33z@inmail.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Ffreez.php5.cz">WWW</a>) 11.02.2007, 17:30:10&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063391">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063391">D</a>]<br />

Ja pouzivam spickovy modul pro Apache => mod_security <a href="http://www.modsecurity.org/" rel="nofollow">http://www.modsecurity.org/</a> Jinak by samozrejme mely Apache + php, mysql bezet v chrooted enviromentu a mysql by melo pokud mozno komunikovat pres UNIX-SOCKETS. Cili v mem pripade ten jediny otevreny port je port 80 (httpd), samozrejme pokud mi nekdo proskenuje porty, *nezjisti* verzi meho httpd, ani nezjisti jakou verzi OpenSSH provozuji a jelikoz mysql komunikuje pres UNIX-SOCKETS, nikdo ani nezjisti, ze mi tu vubec bezi.
<br />
<br />To, co jsem vypsal vetsina amateru porusuje, zejmena tech amateru, kteri si dovoli nechat bezet Apache + PHP + SQL ve Window$. Staci nahodit nmap a zjistite co u nich bezi, pak se obcas podivate na <a href="http://milw0rm.com" rel="nofollow">http://milw0rm.com</a> a pri trose stesti najdete zhruba do tydne zero day exploit a muzete si s jejich serverem delat co chcete...
<br />
<br />PS: Kolik lidi vubec upravilo defaultni konfiguraci v php.ini, mysql.conf a httpd.conf ?

</p>



<p class="comment">
<strong><a name="cmt_6">[6]</a> </strong> (Arthur Dent  ) 11.02.2007, 17:37:16&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063403">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063403">D</a>]<br />

<a href="#cmt_5">[5]</a> Děkuji za zajímavé postřehy, ale toto nebylo předmětem článku.

</p>



<p class="comment">
<strong><a name="cmt_7">[7]</a> Ještě lépe MD5 hash...</strong> (Radek - <a href="mailto:radek@post.cz">Mail</a> ) 11.02.2007, 19:00:04&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063542">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063542">D</a>]<br />

...hashovat s nějakým timestampem, protože MD5 hash téhož hesla bude stále stejný - nebo to používat jako HTTPS.
<br />
<br />Jinak nejvíce zneužívanou chybou skriptu je skutečně nedostatečně ošetřený formulář a funkce mail().

</p>



<p class="comment">
<strong><a name="cmt_8">[8]</a> </strong> (Arthur Dent  ) 11.02.2007, 19:29:08&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063584">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063584">D</a>]<br />

<a href="#cmt_7">[7]</a> V tomto případě probírám "klasické" přihlášení, tedy takové, kdy se posílá heslo z HTML formuláře via http/https a hashuje se až při kontrole. Posílat hashované heslo by bylo možné, ale hashování s timestampem sebou nese problém synchronizace času klient/server.

</p>



<p class="comment">
<strong><a name="cmt_9">[9]</a> </strong> (Jakub Suchy  ) 11.02.2007, 19:41:35&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063602">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063602">D</a>]<br />

Modsecurity je berlicka, Suhosin nejlepe s hardened patchem je to, co by mel pouzit spravce serveru. Mod security se da obejit pridanim pouhe mezery pred promennou, ktera proleze do PHP a to si tu mezeru orizne.
<br />
<br />Pozor NEpouzivejte mysql_escape_string() prosim! Pouzijte mysql_real_escape_string(). Doporucuji opravit v clanku. Ta prvni je jiz davno prekonana. Nezapomente na kodovani!

</p>



<p class="comment">
<strong><a name="cmt_10">[10]</a> </strong> (Arthur Dent  ) 11.02.2007, 20:21:46&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063647">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063647">D</a>]<br />

<a href="#cmt_9">[9]</a> V případě uživatelského jména, které bývá v naprosté většině bez znaků s diakritikou, mysql_escape_string stačí. Pokud bude povoleno použít v  uživatelském jménu znaky s diakritikou, pak si do databáze uložím pro kontrolu hash a budu porovnávat hashe (vzhledem ke zkušenostem s "kompatibilitou" různých verzí MySQL je to lepší než spoléhat se, že to, co pošle PHP v pondělí bude totéž, co MySQL vrátí v úterý).
<br />
<br />Psal jsem o escape_string coby "nezbytném minimu", ale raději doplním real_escape do článku.

</p>



<p class="comment">
<strong><a name="cmt_11">[11]</a> </strong> (zirafka - <a href="mailto:zirafka@zirafka.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fblog.zirafka.cz">WWW</a>) 11.02.2007, 21:54:43&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1063810">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1063810">D</a>]<br />

<a href="#cmt_9">[9]</a> mysql_escape_strings() je prekonana jen kvuli tomu, ze muze delat problem u dvou a vice bajtovych sikmookych kodovani (ktera samozrejme programujici ctenari Misantropova zapisniku bezne pouzivaji) nebo je tady jeste nejaky duvod pro mysql_real_escape_strings() o kterem nevim?

</p>



<p class="comment">
<strong><a name="cmt_12">[12]</a> </strong> (Jakub  ) 12.02.2007, 11:30:25&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1064318">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1064318">D</a>]<br />

<a href="#cmt_11">[11]</a> hlavne kvuli tomu. piseme tady o bezpecnostnim minimu. az se dostanes do situace, kdy budes psat aplikaci pro cinany, co udelas pak? :)

</p>



<p class="comment">
<strong><a name="cmt_13">[13]</a> </strong> (Arthur Dent  ) 12.02.2007, 12:15:28&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1064381">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1064381">D</a>]<br />

<a href="#cmt_11">[11]</a><a href="#cmt_12">[12]</a> No, v podstatě by problém neměl nastat ani při použití s UTF-8 a čínštinou, protože tři "zásadní podezřelé" znaky mají kódy 22, 27 a 5C a podobné kódy se v UTF-8 neobjevují "náhodně" (jinak řečeno - neobjeví se coby součást vícebajtového znaku jako třeba u UNICODE znaku "G cedilla" s kódem 0x0122). Čiliže a jinými slovy pro naprostou většinu aplikací mysql_escape_string() postačí.

</p>



<p class="comment">
<strong><a name="cmt_14">[14]</a> </strong> (johno - <a href="mailto:johno@jsmf.net">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fjohno.jsmf.net%2F">WWW</a>) 12.02.2007, 14:54:38&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1064693">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1064693">D</a>]<br />

Dobrá alternatíva za mysql_*escape_string je ešte použitie prepared statements s placeholdermi.

</p>



<p class="comment">
<strong><a name="cmt_15">[15]</a> </strong> (duf - <a href="mailto:david@smehlik.com">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fwww.duf.cz">WWW</a>) 09.03.2007, 09:14:58&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1105896">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1105896">D</a>]<br />

@Arthur Dent: pekny clanek, je videt, ze z programatorske logiky si stale nevysel.

</p>



<p class="comment">
<strong><a name="cmt_16">[16]</a> </strong> (wake  ) 10.03.2007, 01:13:21&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1107414">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1107414">D</a>]<br />

prihlasovani: challenge response, kde na cli strane hashnu salt|uname|hash(password), kde salt je pro kazdy request (nebo aspon session) unikatni.
<br />cookies: jedine, na co jsou dobre, je ulozeni sessionid (nejlepe tez nejaky hash) a zbytek lokalne v session
<br />PHP: PERL?

</p>



<p class="comment">
<strong><a name="cmt_17">[17]</a> </strong> (wake  ) 10.03.2007, 01:14:37&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1107415">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1107415">D</a>]<br />

<a href="#cmt_16">[16]</a> samozrejme hashnu salt|hash(password), uname potrebuju v plaintextu pro search. chjo.

</p>



<p class="comment">
<strong><a name="cmt_18">[18]</a> </strong> (wake  ) 10.03.2007, 01:17:34&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1107418">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1107418">D</a>]<br />

prihlasovani: timeoutovat sessiony, odhlasenou session nedovolit znova prihlasit (tj. zapomenout sessid)

</p>



<p class="comment">
<strong><a name="cmt_19">[19]</a> </strong> (wake  ) 10.03.2007, 01:18:51&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1107419">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1107419">D</a>]<br />

session: kontrolovat SESSID podle IP

</p>



<p class="comment">
<strong><a name="cmt_20">[20]</a> </strong> (illi - <a href="mailto:jakub.sochor@gmail.com">Mail</a> ) 14.02.2008, 21:21:01&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1541448">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1541448">D</a>]<br />

[quote]Když má uživatel poslat v parametru číslo, uložte si ho do proměnné přes funkci intval. $userid=intval($_GET['userid']); budiž ode dneška vaší mantrou. Hlavně když s tím číslem budete dál pracovat v SQL dotazu.[/quote]
<br />
<br />Je velký rozdíl mezi tím a:
<br />$userid = $_GET['userid'] + 0;
<br />případně jestli je to o hodně pomalejší?

</p>



<p class="comment">
<strong><a name="cmt_21">[21]</a> </strong> (Arthur Dent [<a href="http://adent.myopenid.com/" title="Ověřený uživatel http://adent.myopenid.com/">openID</a>] - <a href="mailto:blog@maly.cz">Mail</a> - <a href="http://www.misantrop.info">WWW</a>) 14.02.2008, 22:13:29&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1541550">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1541550">D</a>]<br />

<a href="#cmt_20">[20]</a> Nejsem si jist tím, jak je interně toto řešeno, ale předpokládám, že se v takovém případě vnitřně zavolá ekvivalent onoho intval()

</p>












</div><!-- konec pole -->



<div id="sidebar">

<h2 id="n_rubriky">Rubriky</h2>
<ul id="rubriky">
<li><a href="tema-1-bavim-se-na-vas-ucet.html">Bavím se na váš účet</a></li><li><a href="tema-2-nemam-vas-rad.html">Nemám vás rád</a></li><li><a href="tema-3-pohrdani.html">Pohrdání</a></li><li><a href="tema-4-vase-bludy-na-moji-hlavu.html">Vaše bludy na moji hlavu</a></li><li><a href="tema-5-mym-analfabetum.html">Mým analfabetům...</a></li><li><a href="tema-6-co-me-bavi.html">Co mě baví?</a></li><li><a href="tema-7-to-je-nejaka-hudba-tohleto.html">To je nějaká hudba, tohleto?</a></li><li><a href="tema-8-kdo-umi.html">Kdo umí...</a></li><li><a href="tema-9-mene-kecu-vice-prace.html">Méně keců, více práce</a></li>
</ul>

<h2 class="bok">Jak se vám to čte?</h2>

<p style="text-align:center">
<a href="http://feeds.feedburner.com/misantrop"><img src="http://feeds.feedburner.com/~fc/misantrop?bg=99CCFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a></p>

<p style="text-align:center">
<a href="http://twittercounter.com/?username=adent" title="TwitterCounter for @adent"><img src="http://twittercounter.com/counter/?username=adent" width="88" height="26" style="border:none;" alt="TwitterCounter for @adent" /></a></p>

<p style="text-align:center">
<script type="text/javascript">
var wsgApiKey = "481349a5-98b9-4d24-b32f-a5729d33840c";
var wsgStyle = 2;
var dummy =('<div id="wsgContainer" style="text-align:center"></div>');wsgScript=document.createElement('script');wsgScript.type="text/javascript";wsgScript.src="http://static.hubspot.com/websiteGraderBadge/badge.js?t="+Math.random();setTimeout("document.getElementById('wsgContainer').appendChild(wsgScript);",1);
</script>
</p>

<script type="text/javascript" src="http://www.blogcatalog.com/w/services.php?id=150489&amp;width=165&amp;bgcolor=EEEEEE&amp;bcolor=356D79&amp;lcolor=333333&amp;hcolor=FFFFFF&amp;htext=Kde%20mne%20najdete&amp;name=0&amp;brand=0&amp;heading=1"></script>

<h2 id="n_odkazy"><a href="#" class="iface" onclick="$('#odkazy').BlindToggleVertically(500, null, 'bounceout');return false;">Odkazy ...</a></h2>
<ul id="odkazy" style="display:block">
<li><a href="http://pixy.cz/pixynergia" rel="acquaintance met">Pixy</a></li><li><a href="http://blok.rozanek.cz" rel="acquaintance">Filip Rožánek</a></li><li><a href="http://www.whitedog.cz" rel="acquaintance met">White Dog</a></li><li><a href="http://kahi.cz/blog/" rel="met">Kahi</a></li><li><a href="http://lokutus.bloguje.cz" rel="met">Lokutus</a></li><li><a href="http://www.katchaba.com/" rel="acquaintance met">Katchaba</a></li><li><a href="http://machinegun.bloguje.cz" rel="acquaintance met">Johnny</a></li><li><a href="http://kokolia.bloguje.cz">Vladimír Kokolia</a></li><li><a href="http://viditelnymacek.cz">Miroslav Macek</a></li><li><a href="http://cina.bloguje.cz" rel="me">Dovolená v Číně</a></li><li><a href="http://bloguneni.bloguje.cz/">Blogu není...</a></li><li><a href="http://hekko.bloguje.cz" rel="acquaintance met">Adminka bloguje</a></li><li><a href="http://www.bloc.cz/default.aspx">Bloc Jiřího Hlavenky</a></li><li><a href="http://apimania.eu" rel="me">Apimania</a></li><li><a href="http://dev20.info" rel="me">Dev::Info</a></li><li><a href="http://dankaj.bloguje.cz/" rel="contact met">Zápisky z Islandu</a></li><li><a href="http://jdem.cz" rel="me">Zkratky pro odkazy</a></li><li><a href="http://davebarry.cz" rel="me">Dave Barry česky</a></li><li><a href="http://uelectronics.info" rel="me">Mikroelektronika</a></li><li><a href="http://www.php-suit.com" rel="me">PHP Suit</a></li><li><a href="http://www.sharp-suit.com" rel="me">Sharp Suit</a></li> 
<li><a href="http://technorati.com/claim/xnpb5tzhw" rel="me">Technorati Profile</a></li>
</ul>

<h2 id="n_recommend">Doporučuji</h2>
<ul id="support">
<li><a href="http://hostmonster.jdem.cz/">Hosting HostMonster</a></li>
<li><a href="http://www.jihocestitatkove.cz/">Jihočeští taťkové</a></li>
<li><a href="http://www.csvts.cz/cns/">Česká nukleární společnost</a></li>
<li><a href="http://www.prozakladnu.cz/">PRO základnu!</a></li>
</ul>

<!-- Buzzboot Ads -->
<!-- / Buzzboot Ads -->


<p>

</p>

<h2>Meta</h2>
<script type="text/javascript" src="http://feedjit.com/popPages/?bc=FFFFFF&amp;tc=008000&amp;brd1=336699&amp;lnk=008000&amp;hc=336699&amp;ww=200"></script><noscript><a href="http://feedjit.com/">Feedjit Live Blog Stats</a></noscript>

<h2 id="n_archiv"><a href="#" class="iface" onclick="$('#archiv').BlindToggleVertically(500, null, 'bounceout');return false;">Archiv ...</a></h2>
<ul id="archiv" style="display:none">
<li><a href="0812archiv.html">prosinec 2008</a></li><li><a href="0811archiv.html">listopad 2008</a></li><li><a href="0810archiv.html">říjen 2008</a></li><li><a href="0809archiv.html">září 2008</a></li><li><a href="0808archiv.html">srpen 2008</a></li><li><a href="0807archiv.html">červenec 2008</a></li><li><a href="0806archiv.html">červen 2008</a></li><li><a href="0805archiv.html">květen 2008</a></li><li><a href="0804archiv.html">duben 2008</a></li><li><a href="0803archiv.html">březen 2008</a></li><li><a href="0802archiv.html">únor 2008</a></li><li><a href="0801archiv.html">leden 2008</a></li><li><a href="0712archiv.html">prosinec 2007</a></li><li><a href="0711archiv.html">listopad 2007</a></li><li><a href="0710archiv.html">říjen 2007</a></li><li><a href="0709archiv.html">září 2007</a></li><li><a href="0708archiv.html">srpen 2007</a></li><li><a href="0707archiv.html">červenec 2007</a></li><li><a href="0706archiv.html">červen 2007</a></li><li><a href="0705archiv.html">květen 2007</a></li><li><a href="0704archiv.html">duben 2007</a></li><li><a href="0703archiv.html">březen 2007</a></li><li><a href="0702archiv.html">únor 2007</a></li><li><a href="0701archiv.html">leden 2007</a></li><li><a href="0612archiv.html">prosinec 2006</a></li><li><a href="0611archiv.html">listopad 2006</a></li><li><a href="0610archiv.html">říjen 2006</a></li><li><a href="0609archiv.html">září 2006</a></li><li><a href="0606archiv.html">červen 2006</a></li><li><a href="0604archiv.html">duben 2006</a></li><li><a href="0603archiv.html">březen 2006</a></li><li><a href="0512archiv.html">prosinec 2005</a></li><li><a href="0511archiv.html">listopad 2005</a></li>
</ul>



</div><!-- konec sidebar -->
<div class="clear">&nbsp;</div><!-- cistic -->
</div><!-- konec obsah -->







<div id="foot">
<p>&copy; <a href="http://www.maly.cz/o-mn/">Martin Malý</a> (aka Arthur Dent) | Design by &copy; 2007 <a href="http://ash721.cz">ASH721</a> | <a href="http://hostmonster.jdem.cz">HOSTING</a> 3000GB+unlimited domains za 6 dolarů</p>

</div>

</div>

</body></html>