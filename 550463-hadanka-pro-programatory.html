<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="cz">
<head><link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.misantrop.info/rss.xml" /><link rel="alternate" type="application/rss+xml" title="RSS - Kdo umí..." href="http://www.misantrop.info/tema-8-kdo-umi.xml" /><link rel="alternate" type="application/rss+xml" title="Komentáře" href="http://www.misantrop.info/comments.xml" />
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/misantrop" />
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
 <title>Hádanka pro programátory - Misantrop.info</title> 

<link rel="stylesheet" href="css39236.css" type="text/css" title="Styl2" media="screen" />
<link rel="alternate stylesheet" href="css34066.css" type="text/css" title="Styl1" media="screen" />

<meta name="verify-v1" content="qHyecOmV/BTXodaXkGrOlj7QL+X93dTbTLojG9EU22c=" />
<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://adent.myopenid.com/" />
<link rel="openid2.local_id" href="http://adent.myopenid.com" />
<link rel="openid2.provider" href="http://www.myopenid.com/server" />
<meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=adent.myopenid.com" />

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
<meta name="keywords" content="Martin Malý, Arthur Dent, weblogy, programování, PHP, blogy, misantrop, Web2.0, technologie, elektronika" />

<meta name="description" content="Hádanka pro programátory - Misantrop.info" />
</head>
<body>
<div id="all">
<!-- Anal Lizer-->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-190512-8";
urchinTracker();
</script>
<!--dolizat-->
 

<div id="adx" style="position:fixed;_position:absolute;top:5px;left:5px">
<script type="text/javascript"><!--
google_ad_client = "pub-3772893178572611";
/* 120x600, vytvořeno 15.7.08 */
google_ad_slot = "1720575805";
google_ad_width = 120;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript"
src="">
</script>
</div>

<div id="head"><p id="logo"><a href="index.php"><img src="img/2zapisnik-logo.gif" alt="Misantrop.info - Web co vám doudí moudí..." /></a></p></div>

<ul id="menu">
<li><a href="index.php">Titulní stránka</a></li>
<li><a href="http://rss.misantrop.info">Oblíbené zdroje</a></li>
<li><a href="http://www.maly.cz/o-mn/?KeepThis=true&amp;TB_iframe=true&amp;height=500&amp;width=800" class="thickbox">O mně</a></li>
<li><a href="http://www.bloguje.cz/vzkazy.php?send=47997">Napiš vzkaz</a></li>
</ul>

<div id="obsah">
<div id="pole">
<!-- Pocitadlo -->
<p><img src="http://counter.cnw.cz/dungeon.cgi?blogmalycz&amp;6&amp;000000&amp;fff1d8&amp;on" alt=" " style="width:1px;height:1px;"/><script type="text/javascript">
<!-- 
var dummy =("<img src=\"http://counter.cnw.cz/trackit.cgi?blogmalycz&t2&" + escape(top.document.referrer) + "\" alt=\" \" border=\"0\" width=\"1\" height=\"1\">"); 
// --></script>

<script language="JavaScript" type="text/javascript">
<!--
var dummy = ('<a href="http://www.netagent.cz" target="_top"><img src="http://www.netagent.cz/agent.php?id=383&amp;ur='+escape(document.referrer)+'&amp;rw='+escape(window.screen.width)+'&amp;rh='+escape(window.screen.height)+'&amp;cd='+escape(window.screen.colorDepth)+'&amp;pt='+escape(document.title)+'&amp;lc='+escape(document.location)+'" width="1" height="1" border="0" alt="NetAgent" /></a>');
//--></script>

</p>
<!-- Pocitadlo konec -->




<h1>Hádanka pro programátory</h1>







<p>Když už se tu tak <a href="http://zapisnik.maly.cz/550452-programatori-programatori.html" target="_blank">o tom programování</a>  bavíme, tak tu mám jednu hádanku pro JavaSkriptéry </p>

<p style="float:right; margin:0 0 1em 1em;">
<script type="text/javascript"><!--
google_ad_client = "pub-3772893178572611";

/* 120x240, vytvořeno 6.7.08 */
google_ad_slot = "4855232301";
google_ad_width = 120;
google_ad_height = 240;
//-->
</script>
<script type="text/javascript"
src="">
</script>
</p>

<p><p>Představte si, že máte dlouhou (ve smyslu &quot;dlouho trvající&quot;) funkci <font face="courier new,courier">f()</font>. Její vykonání trvá, řekněme, 5 sekund.</p><p>Ve funkci <font face="courier new,courier">f()</font> je na začátku zavolán asynchronní XHR (AJAX) požadavek s nadefinovanou callback funkcí <font face="courier new,courier">callback()</font>. Zpracování onoho požadavku trvá serveru dvě sekundy. Požadavek je asynchronn, nečeká se tedy na odpověď. </p><p>Funkce <font face="courier new,courier">f()</font> běží dál dvě sekundy, když přijde odpověď od serveru.</p><p>Co se stane?</p><p>Dokončí interpret běh funkce <font face="courier new,courier">f()</font> a pak zavolá funkci <font face="courier new,courier">callback()</font>, nebo přeruší běh funkce <font face="courier new,courier">f()</font> a vykoná <font face="courier new,courier">callback()</font> bezprostředně po odpovědi serveru?</p></p>

<div style="text-align:center">
<script type="text/javascript"><!--
google_ad_client = "pub-3772893178572611";
/* 468x60, vytvořeno 15.7.08 */
google_ad_slot = "3559028762";
google_ad_width = 468;
google_ad_height = 60;
//-->
</script>
<script type="text/javascript"
src="">
</script>
</div>





<p class="more">
<span class="date">Dne 14.06.2007</span>

</p>





<p><a href="http://jdem.cz/tw?text=Zaj%c3%admav%c3%bd+%c4%8dl%c3%a1nek+na+Z%c3%a1pisn%c3%adku%3a+http%3A%2F%2Fwww.misantrop.info%2F550463-hadanka-pro-programatory.html&amp;redir=1">Twittni</a></p>

<p>Přidej do: 
 <a href="http://vybrali.sme.sk/submit.php?url=http%3A%2F%2Fwww.misantrop.info%2F550463-hadanka-pro-programatory.html"><img src="http://blog.sme.sk/blog/3/61630/tlacitko.gif" style="border:0" title="asdf.sk" alt="asdf.sk" /></a>

<a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fwww.misantrop.info%2F550463-hadanka-pro-programatory.html&amp;title=H%E1danka+pro+program%E1tory"> <img border=0 src="http://www.bloguje.cz/icon_su.gif" alt="StumbleUpon Toolbar"> Stumble It!</a>

<script type="text/javascript" src="http://w.sharethis.com/widget/?tabs=web%2Cemail&amp;charset=utf-8&amp;style=rotate&amp;publisher=99a6f76f-7727-4c7b-a906-b91f57f8a706"></script></p>

<script type="text/javascript" src="http://feedjit.com/coFilter/?bc=FFFFFF&amp;tc=008000&amp;brd1=336699&amp;lnk=008000&amp;hc=336699&amp;ww=500"></script>


<h2 id="n_koments">Komentáře</h2>



<p class="comment">
<strong><a name="cmt_1">[1]</a> </strong> (ah01  - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fnotepad.jslab.net">WWW</a>) 14.06.2007, 21:00:57&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241185">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241185">D</a>]<br />

Dokončí fci. f a až pak zavolá callback fci. Vychází to z toho, že JS v prohlížeči zpracovává jen jedno (právě jedno) vlákno.

</p>



<p class="comment">
<strong><a name="cmt_2">[2]</a> </strong> (Martin Hassman - <a href="mailto:info@met.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fhtml456.blogspot.com%2F">WWW</a>) 14.06.2007, 21:15:56&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241200">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241200">D</a>]<br />

Moc bych se nedivil, když by tohle chování doteď nebylo nijak specifikováno (pokud nesouhlasíte, prosím odkaz do specifikace). AJAXová dokumentace to zdá se neřeší, viz <a href="http://www.w3.org/TR/XMLHttpRequest/" rel="nofollow">http://www.w3.org/TR/XMLHttpRequest/</a>
<br />
<br />Připravovaná specifikace HTML5 k tomu už říká: "All the executable code in a unit of related browsing contexts must execute on a single conceptual thread. The dispatch of events fired by the user agent (e.g. in response to user actions or network activity) and the execution of any scripts associated with timers must be serialised so that for each unit of related browsing contexts there is only one script being executed at a time." viz <a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-windows.html#threads" rel="nofollow">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-windows.html#threads</a>
<br />
<br />Pro nás podstatné je ono slovíčko serialized, takže pěkně po sobě, teprv až se první dokončí.
<br />
<br />Toť teorie, ale nedivil bych se, když by někdo našel aspoň jeden prohlížeč chovající se jinak.

</p>



<p class="comment">
<strong><a name="cmt_3">[3]</a> </strong> (karf - <a href="mailto:karel.fucik@atlas.cz">Mail</a> ) 14.06.2007, 22:37:12&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241309">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241309">D</a>]<br />

Hmm, zajímavé. Nejsem si jist, ale když se nad tím zamyslím, tak bych si tipnul, že volání callback funkce bude fungovat na podobném principu jako event dispatching. Čili si myslím, že se zařadí do fronty událostí a zpracuje se, až na něj přijde řada.

</p>



<p class="comment">
<strong><a name="cmt_4">[4]</a> </strong> (FOUS  ) 14.06.2007, 22:41:38&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241311">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241311">D</a>]<br />

Zrovna dneska tyhle odkazy:
<br />
<br /><a href="http://www.javascriptkata.com/2007/06/04/ajax-and-javascript-dont-use-threads/" rel="nofollow">http://www.javascriptkata.com/2007/06/04/ajax-and-javascript-dont-use-threads/</a>
<br />
<br /><a href="http://www.javascriptkata.com/2007/06/12/ajax-javascript-and-threads-the-final-truth/" rel="nofollow">http://www.javascriptkata.com/2007/06/12/ajax-javascript-and-threads-the-final-truth/</a>
<br />
<br />budou přímo naše hádanka :)

</p>



<p class="comment">
<strong><a name="cmt_5">[5]</a> </strong> (karf - <a href="mailto:karel.fucik@atlas.cz">Mail</a> ) 14.06.2007, 22:42:17&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241312">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241312">D</a>]<br />

A pěkné povídání je o tom zde: <a href="http://dev.opera.com/articles/view/timing-and-synchronization-in-javascript/" rel="nofollow">http://dev.opera.com/articles/view/timing-and-synchronization-in-javascript/</a>

</p>



<p class="comment">
<strong><a name="cmt_6">[6]</a> </strong> (pixy  ) 14.06.2007, 23:03:56&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241341">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241341">D</a>]<br />

<a href="#cmt_2">[2]</a> Já bych spíš viděl otázky v tom "each unit of related browsing contexts". Znamená to snad, že "pravý" AJAX (používající xmlhttprequest) se musí chovat sekvenčně, zatímco "falešný" AJAX,  řekněme meziframová komunikace + data typu JSON, už může jet paralelně? Nebo ne? Co je tady ta unit? Kde je řez - box-iframe-frame-dokument-záložka-okno-instance aplikace? Ha?!
<br />
<br />Pro mě je to dost zajímavé, protože já jsem s "pravým" ajaxem moc nedělal, pracuju nejvíc s komunikačními framy a celou dobu jsem žil v domnění, že v nich probíhá zpracování JS paralelně. Když se načtou dva framy současně, v obou se spustí JS a v obou běží současně (předpokládám!). Ovšem když frame A zavolá fci ve framu B, tak ta se slušně postaví do fronty a počká si, až na ni přijde řada... Což imho odpovídá tomuto případu - je asi jedno, odkud a proč to externí volání přiletí, že. Ale pravda taky je, že jsem timing tohoto druhu zatím nikdy nemusel řešit.

</p>



<p class="comment">
<strong><a name="cmt_7">[7]</a> </strong> (Arthur Dent [<a href="http://adent.myopenid.com/" title="Ověřený uživatel http://adent.myopenid.com/">openID</a>]  - <a href="http://zapisnik.maly.cz">WWW</a>) 14.06.2007, 23:18:06&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241357">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241357">D</a>]<br />

Kdyby to nebyl FOUS <a href="#cmt_4">[4]</a> profláknul, tak jsem se teď mohl vytasit s tím řešením! Tak, teď máte smůlu a za domácí úkol si můžete vyzkoušet, co se stane, když tya funkce f() je zavolána z funkce foo(). Kdy propukne callback? Po f() nebo po foo()?
<br />
<br />No a k <a href="#cmt_6">[6]</a> - to je pole neorané a k výzkumu vhodné. Myslím si, že když je možné, aby to každý pochopil jinak, tak to taky každý jinak pochopí, takže rozdíly budou. No - jestli nemáš zrovna do čeho píchnout... :)

</p>



<p class="comment">
<strong><a name="cmt_8">[8]</a> </strong> (dgx  - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fwww.dgx.cz">WWW</a>) 15.06.2007, 07:52:54&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241529">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241529">D</a>]<br />

Za svůj programátorský život jsem psal snad ve všem, co mi přišlo pod ruku. Od C &amp; Pascalu až po JavaScript &amp; PHP. 
<br />
<br />Jednu věc ale nechápu. Když bych dnes psal v Javě nebo C#, dají mi vysoký plat a projeví uznání. Psát v Javě nebo C# je přitom pohodička, jazyk funguje jak má, existují fantastické IDE. Když však budu psát v PHP nebo dokonce v JavaScriptu, setkám se jen s posměšky a almužnou. Přitom v PHP se chování jazyka mění od verze k verzi, v JavaScriptu dokonce ještě záleží i na prohlížeči. A nejlepší IDE je asi Firebug :-)
<br />
<br />Ne, programátoři v JavaScriptu mají mé uznání, autoři emailu na Centru, nebo GMailu, to jsou prostě fachmani a mistři oboru. Ne nějací svědci Javovi, co vysedávají nad kávičkou, protože už mají dávno po práci. Protože nemusí bádat nad tím, jestli se dřív spustí asynchronní AJAXová události nebo dokončí funkce f(). 

</p>



<p class="comment">
<strong><a name="cmt_9">[9]</a> </strong> (wake  ) 15.06.2007, 07:59:19&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241533">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241533">D</a>]<br />

<a href="#cmt_8">[8]</a> no jo, jenze Java, nebo C#, jsou Enterprise Compliant jazyky, ten, kdo ma Certifikat je ten Pravy Kvalifikovany Expert na Vyvoj Enterprise-Class Software a muze tedy Naprosto OOpravnene pozadovat ostudne vysoke platy, ktery Zadnej Z Nas Nebere. Ale nebojte se, i ve webovych technologiich se blyska na lepsi casy. <a href="http://www.tibco.com/devnet/gi/default.jsp" rel="nofollow">http://www.tibco.com/devnet/gi/default.jsp</a>
<br />
<br />Ja Chci Certifikaaaaaaaaaat!!!!!!!

</p>



<p class="comment">
<strong><a name="cmt_10">[10]</a> </strong> (Martin Hassman - <a href="mailto:info@met.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fhtml456.blogspot.com%2F">WWW</a>) 15.06.2007, 08:16:13&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241553">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241553">D</a>]<br />

<a href="#cmt_6">[6]</a> No jo pixy, kdyz si neprectes vsech tech stopadesataosm definic, co jsou na te odkazovane strance dokumentace, tak to pak neni divu, ze mas dalsi otazky 8-)
<br />
<br />Ne vazne, zjednoduse receno vsechny okna, taby, (i)framy, ktere spolu maji moznost nejak v prohlizeci komunikovat (at uz pres parent opener ci child), jsou "unit of related browsing contexts". A jako takove se na ne vsechny vztahuje pravidlo jednoho threadu a serializace. Neb konec nejasnosti, konec dvojich vykladu a konec nejasnosti dvojich vykladu (<a href="#cmt_7">[7]</a>).
<br />
<br />Pokud by ses v tom chtel nahodou vrtat a mel pocit, ze na 
<br /><a href="http://www.whatwg.org/specs/web-apps/current-work/multipage/section-windows.html" rel="nofollow">http://www.whatwg.org/specs/web-apps/current-work/multipage/section-windows.html</a> najdes v tomto ohledu nejakou nejasnost, tak je to URCITE na report. 

</p>



<p class="comment">
<strong><a name="cmt_11">[11]</a> </strong> (karf - <a href="mailto:karel.fucik@atlas.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fwww.sixtimesnine.com%2F">WWW</a>) 15.06.2007, 10:02:03&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241665">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241665">D</a>]<br />

<a href="#cmt_10">[10]</a> Dotázek: dá se working draft HTML5 od WHATWG považovat za směroplatný? Resp. popisuje to současný skutečný stav, nebo zbožné přání, jak by to mohlo fungovat, až se na tom všichni výrobci browserů shodnou a implementujou? 

</p>



<p class="comment">
<strong><a name="cmt_12">[12]</a> </strong> (Martin Hassman - <a href="mailto:info@met.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fhtml456.blogspot.com%2F">WWW</a>) 15.06.2007, 10:19:51&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241692">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241692">D</a>]<br />

<a href="#cmt_11">[11]</a> Píšu, že je to teorie. Zatím teorie, za odhadem 3 roky realita. Do teď tyhle věci (vlákna, serializaci) nikdo nespecifikoval, takže si každý prohlížet v tomhle ohledu mohl dělat téměř psí kusy.
<br />
<br />Ta specifikace není vycucaná z prstu, ale vychází z reverzního inženýrství současných prohlížečů, případně s nějakým dolaďěním, upřesněním a tak. Takže by už teď měla víceméně odpovídat realitě, ono "víceméně" je tady důležité. Pokud si dnes někdo nechce dělat reverzní inženýrství tohodle chování sám, je to asi nejlepší místo, kde začít.

</p>



<p class="comment">
<strong><a name="cmt_13">[13]</a> </strong> (dgx  - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fwww.dgx.cz">WWW</a>) 15.06.2007, 11:15:51&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241762">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241762">D</a>]<br />

<a href="#cmt_12">[12]</a> přesně tak. Whatwg.org je úžasná studnice vědomostí o vnitřnostech současných prohlížečů, nicméně každou klíčovou věc je pak nutné stejně ověřit v praxi, třeba na Velké Trojce.

</p>



<p class="comment">
<strong><a name="cmt_14">[14]</a> </strong> (dond  ) 15.06.2007, 11:31:40&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241786">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241786">D</a>]<br />

<a href="#cmt_10">[10]</a> No, ono je to s tou unit ještě trochu složitější, protože platí další dvě zásady: základní JavaScriptová zásada stejného původu (kód může hrabat jenom do toho, co pochází ze "stejné" URL) a omezující vláknová podmínka maximálně dvou spojení na danou URL. Takže v reálné aplikaci, která třeba kešuje data nebo provádí intezivní dynamický crossloading, může být výsledné pořadí volání poněkud překvapivé.
<br />
<br />Taky si nemyslím, že by chování prohlížečů bylo různé a nepopsané - teď bohužel nemám čas to najít, ale jsem si skoro jist, že tohle chování je ve specce JavaScriptu 1.4 (a nového ECMA-Scriptu asi taky) definováno poměrně přesně. Nemáte někdo čas to najít? Docela by mě to zajímalo a teď fakt nemůžu...
<br />
<br />A konečně <a href="#cmt_8">[8]</a>, co se týče tohot IDE - JavaScript se poměrně pohodlně dá ladit ve Visual Studiu, když člověk není prase a ví, co nedělat, vytvoří poměrně rychle spolehlivý a přenositelný kód - nedávno jsem to viděl na vlastní oči.

</p>



<p class="comment">
<strong><a name="cmt_15">[15]</a> </strong> (Null - <a href="mailto:null@undefined.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fundefined.cz">WWW</a>) 15.06.2007, 13:25:45&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241926">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241926">D</a>]<br />

<a href="#cmt_14">[14]</a> Asi bych si ani tímhle nebyl až tak jistej. Jsem jen obyčejnej uživatel IE7, ale mám v něm nastavených maximum parallel connections na 95 a otevírat okna/záložky v extra threadech. Jak se to bude chovat potom? :-)

</p>



<p class="comment">
<strong><a name="cmt_16">[16]</a> </strong> (dond  ) 15.06.2007, 14:17:17&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1241999">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1241999">D</a>]<br />

<a href="#cmt_15">[15]</a> Tímhle si naprosto jistej jsem, kvůli tomu musí i naše mapové aplikace (stejně jako mapy od seznamu nebo googlu) tahat kešované dlaždice ze serverů cache1..cache256.example.com, protože pro jeden vykonávaný kód je možné otevřít v jednom čase maximálně dvě HTTP připojení z dané URL - jedno je to, kterým se tahá stránka (a kód samotný), druhé je pro XHR. Všechny další požadavky musí počkat až se jedno ze spojení uvolní.
<br />
<br />S frejmy a okny tohle nesouvisí, resp. libovolný frejm nebo okno mají k dispozici maximálně dvě připojení.

</p>



<p class="comment">
<strong><a name="cmt_17">[17]</a> </strong> (Null - <a href="mailto:null@undefined.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fundefined.cz">WWW</a>) 15.06.2007, 14:50:24&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1242050">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1242050">D</a>]<br />

<a href="#cmt_16">[16]</a> Vidíš, a já myslel že to záleží na nastavení http serveru a http klienta. Ale jak říkám, jsem jen obyčejnej uživatel.
<br />
<br />Každopádně není přece problém si tuhle situaci vyzkoušet. Narychlo jsem to spíchnul a hodil sem: <a href="http://undefined.cz/test/jstest.php" rel="nofollow">http://undefined.cz/test/jstest.php</a>
<br />A světe div se, pravdu měl <a href="#cmt_1">[1]</a>

</p>



<p class="comment">
<strong><a name="cmt_18">[18]</a> </strong> (Martin Hassman - <a href="mailto:info@met.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fhtml456.blogspot.com%2F">WWW</a>) 15.06.2007, 15:27:25&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1242090">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1242090">D</a>]<br />

<a href="#cmt_16">[16]</a> Hmm, a co ve Firefoxu udělá změna řekněme takových předvoleb network.http.max-connections-per-server a max-persistent-connections-per-server? A v IE úprava registru MaxConnectionsPerServer a MaxConnectionsPer1_0Server?

</p>



<p class="comment">
<strong><a name="cmt_19">[19]</a> </strong> (pixy  ) 15.06.2007, 17:57:50&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1242282">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1242282">D</a>]<br />

Udělal jsem test i pro tu meziframovou komunikaci
<br />
<br /><a href="http://pixy.cz/temp/js_sync_test/" rel="nofollow">http://pixy.cz/temp/js_sync_test/</a>
<br />
<br />Je to skutečně zajímavé, tohle si budu pamatovat. Až dodnes jsem si myslel, že framy jedou nezávisle a paralelně. Nejenže je na tom vidět, že ta vzájemná volání jsou linearizovaná a stojí ve frontě a čekají, až na ně dojde řada, ale dokonce i nezávislý běh JS kódů ve dvou framech běží synchronizovaně - na koho se dostane řada, ten běží; když jeden frame vykonává funkci, druhý stojí.
<br />
<br />Taky je zajímavé srovnání browserů - FF i Safari jedou prakticky stále stejně; IE na lokále v zásadě taky, ale ze serveru se náhodně spustí dřív JS ve framu A a jindy zase frame B. Znamená to, že frame B se dotáhne později, než je ta 100ms rezerva, kterou mu frame A dává. Ve FF ani Sf se mi to nestalo ani jednou, myslím, že tam mají poctivě oba framy přiděleny stejné prostředky a načítají se cca stejně rychle a stejně dlouho - zatímco v IE dostává vždy jeden (náhodně?) přednost. Pokud o tomhle někdo víte něco bližšího, sem s tím.
<br />

</p>



<p class="comment">
<strong><a name="cmt_20">[20]</a> </strong> (Arthur Dent [<a href="http://adent.myopenid.com/" title="Ověřený uživatel http://adent.myopenid.com/">openID</a>]  - <a href="http://zapisnik.maly.cz">WWW</a>) 15.06.2007, 18:15:29&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1242301">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1242301">D</a>]<br />

<a href="#cmt_19">[19]</a> Víš přeci že nic není tak jednoduchý jak to vypadá... Tady máš pro zajímavost Operu: <a href="http://www.maly.cz/pic/opera.jpg" rel="nofollow">http://www.maly.cz/pic/opera.jpg</a> 

</p>



<p class="comment">
<strong><a name="cmt_21">[21]</a> </strong> (Arthur Dent [<a href="http://adent.myopenid.com/" title="Ověřený uživatel http://adent.myopenid.com/">openID</a>]  - <a href="http://zapisnik.maly.cz">WWW</a>) 15.06.2007, 18:22:28&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1242304">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1242304">D</a>]<br />

<a href="#cmt_19">[19]</a> A aby nebylo všem nesystémovostem konec, tak takhle to udělá WebKit embedded prohlížeč v Adobe AIR: <a href="http://www.maly.cz/pic/webkit.jpg" rel="nofollow">http://www.maly.cz/pic/webkit.jpg</a> 

</p>



<p class="comment">
<strong><a name="cmt_22">[22]</a> </strong> (Martin Hassman - <a href="mailto:info@met.cz">Mail</a> - <a href="http://www.bloguje.cz/redir2.php?r=http%3A%2F%2Fhtml456.blogspot.com%2F">WWW</a>) 15.06.2007, 19:09:52&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1242383">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1242383">D</a>]<br />

[20-21] já myslím, že tohle už je v rámci možností prohlížeče. Pokud by na pořadí volání opravdu záleželo, musí si programátor vyřešit 'race condition', stejně jako jsou tomu zvyklí kodéři multivláknových aplikací. Představte si mutexy a semafory v JavaScriptu 8-)
<br />
<br />Teď mě vlastně napadlo, zda ta komunikace mezi framy není takový příklad kooperativního multitaskingu, jako měli Win3.11. Ale třeba mě nějaký kodér opraví.

</p>



<p class="comment">
<strong><a name="cmt_23">[23]</a> </strong> (dond  ) 18.06.2007, 09:32:48&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt.php?id=1245228">X</a>]&nbsp;[<a href="http://www.bloguje.cz/blox/killcmt2.php?id=1245228">D</a>]<br />

<a href="#cmt_17">[17]</a>, <a href="#cmt_18">[18]</a> Aha, špatně jsem se vyjádřil. Já nemluvím o celkovém počtu současných připojení, které prohlížeč může se serverem mít. Ta se skutečně dají ovlivnit nastavením klienta a serveru. Já mluvím o tom, kolik současně otevřených připojení může mít aktuálně vykonávaný kód - a ta jsou skutečně maximálně dvě. V různých frejmech a oknech jich samozřejmě naráz může být víc - pak už ale záleží i na tom, jak moc paralelně prohlížeč pracuje s jednotlivými vlákny/podprocesy.
<br />
<br />Snažil jsem se vysvětlit, proč jsou další volání XHR serializovaná, ale asi jsem to ještě víc zamotal.

</p>












</div><!-- konec pole -->



<div id="sidebar">

<h2 id="n_rubriky">Rubriky</h2>
<ul id="rubriky">
<li><a href="tema-1-bavim-se-na-vas-ucet.html">Bavím se na váš účet</a></li><li><a href="tema-2-nemam-vas-rad.html">Nemám vás rád</a></li><li><a href="tema-3-pohrdani.html">Pohrdání</a></li><li><a href="tema-4-vase-bludy-na-moji-hlavu.html">Vaše bludy na moji hlavu</a></li><li><a href="tema-5-mym-analfabetum.html">Mým analfabetům...</a></li><li><a href="tema-6-co-me-bavi.html">Co mě baví?</a></li><li><a href="tema-7-to-je-nejaka-hudba-tohleto.html">To je nějaká hudba, tohleto?</a></li><li><a href="tema-8-kdo-umi.html">Kdo umí...</a></li><li><a href="tema-9-mene-kecu-vice-prace.html">Méně keců, více práce</a></li>
</ul>

<h2 class="bok">Jak se vám to čte?</h2>

<p style="text-align:center">
<a href="http://feeds.feedburner.com/misantrop"><img src="http://feeds.feedburner.com/~fc/misantrop?bg=99CCFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a></p>

<p style="text-align:center">
<a href="http://twittercounter.com/?username=adent" title="TwitterCounter for @adent"><img src="http://twittercounter.com/counter/?username=adent" width="88" height="26" style="border:none;" alt="TwitterCounter for @adent" /></a></p>

<p style="text-align:center">
<script type="text/javascript">
var wsgApiKey = "481349a5-98b9-4d24-b32f-a5729d33840c";
var wsgStyle = 2;
var dummy =('<div id="wsgContainer" style="text-align:center"></div>');wsgScript=document.createElement('script');wsgScript.type="text/javascript";wsgScript.src="http://static.hubspot.com/websiteGraderBadge/badge.js?t="+Math.random();setTimeout("document.getElementById('wsgContainer').appendChild(wsgScript);",1);
</script>
</p>

<script type="text/javascript" src="http://www.blogcatalog.com/w/services.php?id=150489&amp;width=165&amp;bgcolor=EEEEEE&amp;bcolor=356D79&amp;lcolor=333333&amp;hcolor=FFFFFF&amp;htext=Kde%20mne%20najdete&amp;name=0&amp;brand=0&amp;heading=1"></script>

<h2 id="n_odkazy"><a href="#" class="iface" onclick="$('#odkazy').BlindToggleVertically(500, null, 'bounceout');return false;">Odkazy ...</a></h2>
<ul id="odkazy" style="display:block">
<li><a href="http://pixy.cz/pixynergia" rel="acquaintance met">Pixy</a></li><li><a href="http://blok.rozanek.cz" rel="acquaintance">Filip Rožánek</a></li><li><a href="http://www.whitedog.cz" rel="acquaintance met">White Dog</a></li><li><a href="http://kahi.cz/blog/" rel="met">Kahi</a></li><li><a href="http://lokutus.bloguje.cz" rel="met">Lokutus</a></li><li><a href="http://www.katchaba.com/" rel="acquaintance met">Katchaba</a></li><li><a href="http://machinegun.bloguje.cz" rel="acquaintance met">Johnny</a></li><li><a href="http://kokolia.bloguje.cz">Vladimír Kokolia</a></li><li><a href="http://viditelnymacek.cz">Miroslav Macek</a></li><li><a href="http://cina.bloguje.cz" rel="me">Dovolená v Číně</a></li><li><a href="http://bloguneni.bloguje.cz/">Blogu není...</a></li><li><a href="http://hekko.bloguje.cz" rel="acquaintance met">Adminka bloguje</a></li><li><a href="http://www.bloc.cz/default.aspx">Bloc Jiřího Hlavenky</a></li><li><a href="http://apimania.eu" rel="me">Apimania</a></li><li><a href="http://dev20.info" rel="me">Dev::Info</a></li><li><a href="http://dankaj.bloguje.cz/" rel="contact met">Zápisky z Islandu</a></li><li><a href="http://jdem.cz" rel="me">Zkratky pro odkazy</a></li><li><a href="http://davebarry.cz" rel="me">Dave Barry česky</a></li><li><a href="http://uelectronics.info" rel="me">Mikroelektronika</a></li><li><a href="http://www.php-suit.com" rel="me">PHP Suit</a></li><li><a href="http://www.sharp-suit.com" rel="me">Sharp Suit</a></li> 
<li><a href="http://technorati.com/claim/xnpb5tzhw" rel="me">Technorati Profile</a></li>
</ul>

<h2 id="n_recommend">Doporučuji</h2>
<ul id="support">
<li><a href="http://hostmonster.jdem.cz/">Hosting HostMonster</a></li>
<li><a href="http://www.jihocestitatkove.cz/">Jihočeští taťkové</a></li>
<li><a href="http://www.csvts.cz/cns/">Česká nukleární společnost</a></li>
<li><a href="http://www.prozakladnu.cz/">PRO základnu!</a></li>
</ul>

<!-- Buzzboot Ads -->
<!-- / Buzzboot Ads -->


<p>

</p>

<h2>Meta</h2>
<script type="text/javascript" src="http://feedjit.com/popPages/?bc=FFFFFF&amp;tc=008000&amp;brd1=336699&amp;lnk=008000&amp;hc=336699&amp;ww=200"></script><noscript><a href="http://feedjit.com/">Feedjit Live Blog Stats</a></noscript>

<h2 id="n_archiv"><a href="#" class="iface" onclick="$('#archiv').BlindToggleVertically(500, null, 'bounceout');return false;">Archiv ...</a></h2>
<ul id="archiv" style="display:none">
<li><a href="0812archiv.html">prosinec 2008</a></li><li><a href="0811archiv.html">listopad 2008</a></li><li><a href="0810archiv.html">říjen 2008</a></li><li><a href="0809archiv.html">září 2008</a></li><li><a href="0808archiv.html">srpen 2008</a></li><li><a href="0807archiv.html">červenec 2008</a></li><li><a href="0806archiv.html">červen 2008</a></li><li><a href="0805archiv.html">květen 2008</a></li><li><a href="0804archiv.html">duben 2008</a></li><li><a href="0803archiv.html">březen 2008</a></li><li><a href="0802archiv.html">únor 2008</a></li><li><a href="0801archiv.html">leden 2008</a></li><li><a href="0712archiv.html">prosinec 2007</a></li><li><a href="0711archiv.html">listopad 2007</a></li><li><a href="0710archiv.html">říjen 2007</a></li><li><a href="0709archiv.html">září 2007</a></li><li><a href="0708archiv.html">srpen 2007</a></li><li><a href="0707archiv.html">červenec 2007</a></li><li><a href="0706archiv.html">červen 2007</a></li><li><a href="0705archiv.html">květen 2007</a></li><li><a href="0704archiv.html">duben 2007</a></li><li><a href="0703archiv.html">březen 2007</a></li><li><a href="0702archiv.html">únor 2007</a></li><li><a href="0701archiv.html">leden 2007</a></li><li><a href="0612archiv.html">prosinec 2006</a></li><li><a href="0611archiv.html">listopad 2006</a></li><li><a href="0610archiv.html">říjen 2006</a></li><li><a href="0609archiv.html">září 2006</a></li><li><a href="0606archiv.html">červen 2006</a></li><li><a href="0604archiv.html">duben 2006</a></li><li><a href="0603archiv.html">březen 2006</a></li><li><a href="0512archiv.html">prosinec 2005</a></li><li><a href="0511archiv.html">listopad 2005</a></li>
</ul>



</div><!-- konec sidebar -->
<div class="clear">&nbsp;</div><!-- cistic -->
</div><!-- konec obsah -->







<div id="foot">
<p>&copy; <a href="http://www.maly.cz/o-mn/">Martin Malý</a> (aka Arthur Dent) | Design by &copy; 2007 <a href="http://ash721.cz">ASH721</a> | <a href="http://hostmonster.jdem.cz">HOSTING</a> 3000GB+unlimited domains za 6 dolarů</p>

</div>

</div>

</body></html>